{% extends 'posts/base.html' %}
{% load static %}
{% block title %}Notifications{% endblock %}

{% block content %}

<style>
/* ===== Animated Background (same as login & home) ===== */
body {
    background:black;
    background-size: 400% 400%;
    color: white;
    animation: gradientShift 10s ease infinite;
    font-family: 'Poppins', sans-serif;
}

/* @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
} */

/* ===== Glass Notifications Card ===== */
.glass-card {
    background: rgba(255, 255, 255, 0.27);
    backdrop-filter: blur(12px);
    border-radius: 18px;
    padding: 20px;
    border: 1px solid rgba(255,255,255,0.35);
    box-shadow: 0 4px 14px rgba(0,0,0,0.1);
    transition: 0.3s;
}

.glass-card:hover {
    transform: translateY(-5px);
}

/* Headings */
h3 {
    color: #ffffff;
    text-shadow: 0 0 3px rgba(0,0,0,0.2);
}

/* Image Styling */
.notif-img {
    width: 100%;
    max-height: 300px;
    object-fit: cover;
    border-radius: 12px;
    margin-bottom: 12px;
}
</style>


<div class="container mt-3">

  <h5 class="text-white mb-3">Notifications</h5>

  {% for n in notifications %}
    <a href="{% if n.post %}{% url 'post_detail' n.post.id %}{% else %}#{% endif %}"
       class="d-flex align-items-center text-decoration-none text-white mb-3 p-2 rounded"
       style="background: rgba(255,255,255,.08);">

      <img src="{{ n.from_user.profile.profile_image.url }}"
           class="rounded-circle me-2"
           style="width:40px;height:40px;object-fit:cover;">

      <div>
        <div>{{ n.message }}</div>
        <small class="text-white">{{ n.created_at|timesince }} ago</small>
      </div>
    </a>
  {% empty %}
    <p class="text-muted">No notifications</p>
  {% endfor %}

</div>

{% endblock %}
